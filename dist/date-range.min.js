!function(t){function e(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function n(t){return t instanceof Date&&"Invalid Date"!=t}function r(t){return t instanceof a}function i(t,e){for(var n=[],r=0;t>r;r++)n.push(e(r));return n}function o(t){return t.reduce(function(t,e){return t&&t>e?e:t})}function u(t){return t.reduce(function(t,e){return t&&e>t?e:t})}var s=864e5,a=t.DateRange=function(t,r){if(!n(t)||!n(r))throw new Error("Arguments should be valid dates.");if(t=e(t),r=e(r),t>=r)throw new Error("End date must be bigger then start date.");this.start=t,this.end=r};a.prototype=Object.create(null),a.prototype.getTime=function(){return this.end.getTime()-this.start.getTime()},a.prototype.countDays=function(){return this.getTime()/s+1},a.prototype.getYears=function(){var t=this.start.getFullYear(),e=this.end.getFullYear()-t+1;return i(e,function(e){return t+e})},a.prototype.getDates=function(){var t=this.start.getTime();return i(this.countDays(),function(e){var n=new Date;return n.setTime(t+s*e),n})};var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];c.forEach(function(t,e){a.prototype["get"+t+"s"]=function(){for(var t=this.countDays(),n=[],r=0;t>r;){var i=new Date;i.setTime(this.start.getTime()+s*r),(!n.length&&i.getDay()==e||n.length)&&n.push(i),r+=n.length>0?7:1}return n}}),a.prototype.contains=function(t){return t instanceof a?t.start>=this.start&&t.end<=this.end:n(t)&&t>=this.start&&t<=this.end},a.prototype.indexOf=function(t){return this.contains(t)?(t.getTime()-this.start.getTime())/s:-1},a.prototype.intersection=function(t){if(!r(t))return!1;var e=u([this.start,t.start]),n=o([this.end,t.end]);return e>=n?!1:new a(e,n)},a.prototype.doesIntersect=function(t){return r(t)&&t.start<=this.end&&t.end>=this.start},a.prototype.getLeapYears=function(){return this.getYears().filter(function(t){return t%4===0&&(t%100!==0||t%400===0)})},a.prototype.getFridayThe13ths=function(){return this.getFridays().filter(function(t){return 13==t.getDate()})},"undefined"!=typeof module&&(module.exports=a)}(this);